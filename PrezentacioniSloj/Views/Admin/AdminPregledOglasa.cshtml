@using System.Data;
@model DataSet
@{
    ViewData["Title"] = "Radni nalozi";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="mb-0">Spisak radnih naloga</h1>
    <a class="btn btn-success" asp-controller="Admin" asp-action="AdminOglasKreiraj">
        + Dodaj radni nalog
    </a>
</div>

@if (TempData["SuccessMessage"] != null)

{
    <div class="alert alert-success">@TempData["SuccessMessage"]</div>
}

@if (Model != null && Model.Tables.Count > 0 && Model.Tables[0].Rows.Count > 0)

{
    <table class="table table-striped">
        <thead>
            <tr>
                <th>IDOglasa</th>
                <th>Naziv</th>
                <th>Adresa</th>
                <th>ZgradaID</th>
                <th>Vreme</th>
                <th>Status</th>
                <th>IDKorisnika (dodeljen)</th>
            </tr>
        </thead>
        <tbody>
            @foreach (DataRow row in Model.Tables[0].Rows)

            {
                <tr>
                    <td>@row["IDOglasa"]</td>
                    <td>@row["Naziv"]</td>
                    <td>@(row.Table.Columns.Contains("Adresa") ? row["Adresa"] : "-")</td>
                    <td>@row["ZgradaID"]</td>
                    <td>@(row.Table.Columns.Contains("Vreme") ? row["Vreme"] : "-")</td>
                    <td>@row["Status"]</td>
                    <td>@(row.IsNull("IDKorisnika") ? "-" : row["IDKorisnika"])</td>
                </tr>
            }
        </tbody>
    </table>
}

else

{
    <p>Nema oglasa.</p>
}
